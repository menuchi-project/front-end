<div class="container">
  <!--  <nz-switch [(ngModel)]="loading"></nz-switch>-->

  <h3>{{ list.id }}</h3>
  <div
    class="drag-list"
    cdkDropList
    [id]="list.id"
    [cdkDropListData]="list.items"
    [cdkDropListConnectedTo]="connectedLists"
    (cdkDropListDropped)="drop2($event)"
  >
    @for (data of list.items; track data) {
      <nz-card cdkDrag [nzLoading]="loading">
        <nz-card-meta
          [nzTitle]="cardTitle"
          [nzDescription]="cardDesc"
        ></nz-card-meta>
        <nz-card *cdkDragPreview>
          <nz-card-meta [nzDescription]="cardDesc2"></nz-card-meta>
        </nz-card>
        <!--        <div>-->
        <!--          <nz-card>-->
        <!--            <nz-card-meta [nzTitle]="cardTitle"></nz-card-meta>-->
        <!--          </nz-card>-->
        <!--          <h4>{{ data.name }}</h4>-->
        <!--          <img [src]="'/assets/icons/User.svg'" [alt]="data.name" />-->
        <!--        </div>-->
      </nz-card>
      <ng-template #cardDesc>
        <div class="item-content">
          <div>
            <div class="ingredients">
              <h3>مواد اولیه:</h3>
              <p>سبزی٫ لیمو امانی٫ لوبیا ٫ برنج ...</p>
            </div>
            <div class="price">۲۴۰,۰۰۰ هزارتومان</div>
          </div>
          <div class="item-image"></div>
        </div>
      </ng-template>
      <ng-template #cardTitle>
        <div class="header">
          <h4>{{ data.name }}</h4>
          <!--          <nz-icon-->
          <!--            nzType="more"-->
          <!--            nz-dropdown-->
          <!--            [nzDropdownMenu]="menu1"-->
          <!--            nzPlacement="bottomRight"-->
          <!--          />-->
          <button
            nz-button
            nz-dropdown
            [nzDropdownMenu]="menu1"
            nzPlacement="bottomRight"
            nzTrigger="click"
          >
            <nz-icon nzType="more" />
          </button>
          <nz-dropdown-menu #menu1="nzDropdownMenu">
            <ul nz-menu>
              <li nz-menu-item>ویرایش آیتم</li>
              <li nz-menu-item>انتقال به دسته‌بندی</li>
              <li nz-menu-item style="color: #f23939 !important">
                حذف از دسته‌بندی
              </li>
            </ul>
          </nz-dropdown-menu>
        </div>
      </ng-template>
      <ng-template #cardDesc2>
        <h4>نام آیتم</h4>
        <img ngSrc="/assets/icons/User.svg" alt="" height="44" width="44" />
        <div class="price">۲۴۰,۰۰۰ هزارتومان</div>
      </ng-template>
    }

    <button nz-button nzType="primary" class="add-item-btn">
      <nz-icon nzType="plus" />
      اضافه کردن آیتم جدید به دسته‌بندی
    </button>
  </div>
</div>
